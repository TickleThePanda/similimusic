<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />

    <script src="/js/main.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css">

    <title>Tartan-ify</title>

    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tartan-ify.ticklethepanda.co.uk/" />
    <meta property="og:title" content="Tartan-ify" />
    <meta property="og:description" content="In-browser music similarity visualisation looking at differences within a song." />
    <meta property="og:image" content="https://tartan-fy.ticklethepanda.co.uk/images/hero-image.png" />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:domain" value="tartan-ify.ticklethepanda.co.uk" />
    <meta name="twitter:title" value="Tartan-ify" />
    <meta name="twitter:description" value="In-browser music similarity visualisation looking at differences within a song." />
    <meta name="twitter:image" content="https://tartan-ify.ticklethepanda.co.uk/images/hero-image.png" />
    <meta name="twitter:url" value="https://tartan-ify.ticklethepanda.co.uk/" />
  </head>
  <body class="viewport-exact">
    <div id="music-form" class="page modal">
      <div class="description">
        <h1>Tartan-ify</h1>

        <p>Tartan-ify generates visualisations that shows, in a piece
        of music, where the similarities and differences are.

        <h2>How it works</h2>
        <p>Tartan-ify splits the music up into chunks, takes every chunk and
        compares it against every other chunk. Every comparison is then shown
        on a grid with time on both axes, and the colour showing the similarity.
        <p>To do the comparison, we first do spectrum analysis on each chunk,
        using a <a href="https://en.wikipedia.org/wiki/Fast_Fourier_transform">
        Fast Fourier Transform</a>. Then we calculate the sum of the difference
        between this chunk and keep a matrix of the comparisons between each.

        <h2>How to use the tool</h2>
        <p>To use this tool, select a piece of music then select the
        chunk interval that you want in milliseconds (using the BPM can be useful
        here), then click <em>Tartan-ify</em> to start the visualisation.
      </div>
      <form class="form">
        <label class="form__button" id="file-upload-label" for="music-file">
          <input class="form__file-upload-hidden-button js-file-upload-input" type="file" id="music-file" name="music-file" />
          Choose some music
          <span class="form__file-upload-name js-file-upload-name" data-for="music-file"></span>
        </label>
        <label class="form__label" for="analysis-interval">
          Chunk length (ms)
          <input class="form__input-number" id="analysis-interval" name="analysis-interval" value="1000" />
        </label>
        <button class="form__button form__button--submit" type="submit" id="form-submit" name="process-music-file">
          Tartan-ify
        </button>
        <div id="form-errors" class="form__error"></div>
      </form>
    </div>
    <div id="visualiser" class="page visualiser hidden">
      <div class="visualiser__main">
        <div class="visualiser__horizontal-axis">
          Chunk of song
        </div>
        <div class="visualiser__vertical-axis">
          Chunk of song
        </div>
        <canvas class="visualiser__plot" id="similarity-graph"></canvas>
      </div>
      <div class="visualiser__info">
        <div class="visualiser__controls">
          <input type="checkbox" id="show-whole-image">
          <label for="show-whole-image">Show whole image</label>
          <input type="checkbox" id="show-cursor" checked>
          <label for="show-cursor">Show cursor</label>
        </div>
        <div class="visualiser__legend">
          <div class="visualiser__legend-item">
            <div class="visualiser__legend-item-name">Chunk sound similarity</div>
            <div class="visualiser__legend-item-key">
              <div class="visualiser__legend-item-key-name">Similar</div>
              <div class="visualiser__legend-item-key-gradient"></div>
              <div class="visualiser__legend-item-key-name">Different</div>
            </div>

          </div>
        </div>
      </div>
    </div>
    <div id="loading-status" class="page modal hidden"></div>
  </body>
</html>
